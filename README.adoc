= Red Hat Fuse Workshop Deployer

== Lab Content

. https://github.com/GuilhermeCamposo/fuse-workshop-doc[Fuse with Spring Boot]
. https://github.com/GuilhermeCamposo/camelk-workshop-doc[Camel K]

== Pre Requirements

=== Resource Consumption per User

image::./images/resources.png[]


=== OpenShift 4.8 Workshop

Use this environment to provision a OpenShift cluster with authentication for attendees. Take the above resource consumption as a base to calculate the amount of resource you will need for your workshop.


=== CodeReady Workspaces

You just need a updated browser, preferably Chrome or Firefox :)



== Install The Workshop Using Ansible

=== Parameters

[options="header"]
|=======================
| Parameter | Example Value                                      | Definition
| ocp_token | sha256~vFanQbthlPKfsaldJT3bdLXIyEkd7ypO_XPygY1DNtQ | access token for a user with cluster-admin previleges
| domain    | my-cluster.company.com                             | Cluster domain. If you have a console url like this https://console-openshift-console.apps.my-cluster.company.com, your domain is my-cluster.company.com.
| num_users | 8                                                  | Number of users expected in the workshop. Please, have in mind that the more users you have, more resources you are going to need from the cluster.
| delete_workshop | false | Only use this parameter if you intend to delete the installation and preserve the cluster
|=======================

=== Running the playbook

    token=REPLACE_ME
    server=REPLACE_ME
    num_users=REPLACE_ME
    ansible-playbook -e token=${token} -e server=${server}  -e num_users=${num_users} install-workshop.yml

=== Getting the user registration page

The URL will be displayed by the `Installation Finished` task.
